{% extends "base.html" %}
{% block title %}Bienvenido{% endblock %}
{% block content %}
<header class="py-6">
  <nav class="max-w-6xl mx-auto flex items-center justify-between px-4">
    <div class="font-bold text-xl">MiMarca</div>
    <a href="#contacto" class="px-4 py-2 rounded bg-black text-white">Contáctanos</a>
  </nav>
</header>

<!-- ========================= INICIO CARRUSEL ========================= -->
<section id="hero" class="max-w-6xl mx-auto px-4 mt-4">
  <div id="carousel" class="relative rounded-3xl overflow-hidden shadow bg-black/80">
    <div class="w-full" style="aspect-ratio:21/9;">
      <!-- Slide 1 -->
      <article class="slide absolute inset-0 opacity-0 transition-opacity duration-700" data-idx="0" aria-hidden="true">
        <img src="https://cdn.elpopular.mx/notas/comunidad/2024/08/30/dia-del-gamer-como-vivir-de-los-videojuegos/2d1b0cddcbc55b1b981e89ef8bf92895.jpg" alt="Comunidad" class="w-full h-full object-cover">
        <div class="absolute inset-0 bg-black/45"></div>
        <div class="absolute inset-0 flex flex-col justify-end p-6 md:p-8 text-white">
          <span class="self-start px-3 py-1 rounded-lg bg-emerald-400 text-black font-extrabold">COMUNIDAD</span>
          <h1 class="mt-3 font-extrabold leading-tight text-[clamp(28px,4vw,56px)]">Únete a nuestra comunidad</h1>
          <p class="mt-1 text-white/95 text-[clamp(14px,1.8vw,20px)]">Eventos, torneos y acceso temprano a betas.</p>
        </div>
      </article>
      <!-- Slide 2 -->
      <article class="slide absolute inset-0 opacity-0 transition-opacity duration-700" data-idx="1" aria-hidden="true">
        <img src="https://www.zonapcera.com/wp-content/uploads/2025/07/Lo-mejor-2024.webp" alt="Juegos" class="w-full h-full object-cover">
        <div class="absolute inset-0 bg-black/45"></div>
        <div class="absolute inset-0 flex flex-col justify-end p-6 md:p-8 text-white">
          <span class="self-start px-3 py-1 rounded-lg bg-blue-500 font-extrabold">JUEGOS</span>
          <h2 class="mt-3 font-extrabold leading-tight text-[clamp(26px,3.6vw,50px)]">Lanzamientos y selecciones AAA</h2>
        </div>
      </article>
      <!-- Slide 3 -->
      <article class="slide absolute inset-0 opacity-0 transition-opacity duration-700" data-idx="2" aria-hidden="true">
        <img src="https://www.asus.com/campaign/powered-by-asus/upload/scenario/20250320035129_pic0.jpg" alt="Hardware" class="w-full h-full object-cover">
        <div class="absolute inset-0 bg-black/45"></div>
        <div class="absolute inset-0 flex flex-col justify-end p-6 md:p-8 text-white">
          <span class="self-start px-3 py-1 rounded-lg bg-fuchsia-500 font-extrabold">HARDWARE</span>
          <h2 class="mt-3 font-extrabold leading-tight text-[clamp(26px,3.6vw,50px)]">Benchmarks reales y setup de élite</h2>
        </div>
      </article>
    </div>

    <!-- Controles -->
    <button class="prev absolute left-3 top-1/2 -translate-y-1/2 w-9 h-9 rounded-full bg-black/35 text-white grid place-items-center hover:bg-black/55" aria-label="Anterior">‹</button>
    <button class="next absolute right-3 top-1/2 -translate-y-1/2 w-9 h-9 rounded-full bg-black/35 text-white grid place-items-center hover:bg-black/55" aria-label="Siguiente">›</button>
    <div class="dots absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2"></div>
  </div>
</section>

<script>
(function(){
  const root=document.querySelector('#carousel'); if(!root) return;
  const slides=[...root.querySelectorAll('.slide')];
  const prev=root.querySelector('.prev'), next=root.querySelector('.next');
  const dotsBox=root.querySelector('.dots');
  slides.forEach((_,i)=>{const b=document.createElement('button');
    b.className='w-2 h-2 rounded-full bg-white/50 aria-[current=true]:w-7 aria-[current=true]:bg-white transition-all';
    b.addEventListener('click',()=>go(i)); b.setAttribute('aria-label','Ir al slide '+(i+1)); dotsBox.appendChild(b);
  });
  let i=0,t=null,D=5200;
  function render(){slides.forEach((el,idx)=>{const on=idx===i; el.style.opacity=on?1:0; el.style.pointerEvents=on?'auto':'none'; el.setAttribute('aria-hidden',on?'false':'true');});
    dotsBox.querySelectorAll('button').forEach((d,idx)=>d.setAttribute('aria-current', idx===i?'true':'false'));
  }
  function go(n){ i=(n+slides.length)%slides.length; render(); restart(); }
  function nxt(){ go(i+1);} function prv(){ go(i-1);}
  function start(){ t=setInterval(nxt,D);} function stop(){ clearInterval(t); t=null;}
  function restart(){ stop(); start(); }
  prev?.addEventListener('click',prv); next?.addEventListener('click',nxt);
  root.addEventListener('mouseenter',stop); root.addEventListener('mouseleave',start);
  render(); start();
})();
</script>
<!-- ========================== FIN CARRUSEL ========================== -->

<section class="max-w-6xl mx-auto grid md:grid-cols-2 gap-10 items-center px-4 py-16">
  <div>
    <h1 class="text-4xl md:text-5xl font-extrabold leading-tight">
      Tu solución, explicada en una página ✨
    </h1>
    <p class="mt-4 text-lg text-gray-600">
      Beneficio claro 1 · Beneficio claro 2 · Llamado a la acción
    </p>
    <a href="#contacto" class="inline-block mt-6 px-6 py-3 rounded bg-indigo-600 text-white">
      ¡Quiero saber más!
    </a>
  </div>
  <img src="https://picsum.photos/800/500" alt="mockup" class="rounded-lg shadow">
</section>

<section class="bg-white border-t">
  <div class="max-w-6xl mx-auto grid md:grid-cols-3 gap-8 px-4 py-14">
    <div><h3 class="font-semibold text-xl">Rápido</h3><p class="text-gray-600 mt-2">Texto breve.</p></div>
    <div><h3 class="font-semibold text-xl">Seguro</h3><p class="text-gray-600 mt-2">Texto breve.</p></div>
    <div><h3 class="font-semibold text-xl">Escalable</h3><p class="text-gray-600 mt-2">Texto breve.</p></div>
  </div>
</section>

<section id="contacto" class="max-w-2xl mx-auto px-4 py-16">
  <h2 class="text-2xl font-bold mb-4">Contáctanos</h2>
  <form method="post" action="." class="grid gap-4">
    {% csrf_token %}
    <input name="nombre" placeholder="Nombre" class="border rounded p-3" required>
    <input type="email" name="email" placeholder="Email" class="border rounded p-3" required>
    <textarea name="mensaje" placeholder="Mensaje" class="border rounded p-3" rows="4"></textarea>
    <button class="px-5 py-3 rounded bg-black text-white">Enviar</button>
  </form>
  {% if request.GET.ok %}
    <p class="mt-3 text-green-700">¡Gracias! Te contactaremos pronto.</p>
  {% endif %}
</section>

<footer class="py-10 text-center text-sm text-gray-500">
  © {{ now|date:"Y" }} MiMarca. Todos los derechos reservados.
</footer>
{% endblock %}
